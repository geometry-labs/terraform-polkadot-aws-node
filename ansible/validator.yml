---
- hosts: all
  become: yes
  roles:
    - role: insight_infra.cloud_helper
      vars:
        enable_cloud_wait: true
        enable_jq: true
    - { role: volumes, when: instance_store_enabled | default(false) | bool }
    - { role: "dev-sec.os-hardening", when: ansible_hardening | default(false) | bool }
    - { role: "dev-sec.ssh-hardening", when: ansible_hardening | default(false) | bool }
    - role: insight_w3f.polkadot_base
    - role: insight_w3f.polkadot_validator